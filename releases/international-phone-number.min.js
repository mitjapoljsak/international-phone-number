(function(){"use strict";angular.module("internationalPhoneNumber",[]).directive("internationalPhoneNumber",function($timeout){return{restrict:"A",require:"^ngModel",scope:!0,link:function(scope,element,attrs,ctrl){var handleWhatsSupposedToBeAnArray,options,read;return read=function(){return ctrl.$setViewValue(element.val())},handleWhatsSupposedToBeAnArray=function(e){return"object"==typeof e?e:e.toString().replace(/[ ]/g,"").split(",")},options={autoFormat:!0,autoHideDialCode:!0,defaultCountry:"",nationalMode:!1,numberType:"",onlyCountries:void 0,preferredCountries:["us","gb"],responsiveDropdown:!1,utilsScript:"",keepModelClean:!1,formatModelWithSpace:!1},angular.forEach(options,function(value,key){var option;return option=eval("attrs."+key),angular.isDefined(option)?"preferredCountries"===key?options.preferredCountries=handleWhatsSupposedToBeAnArray(option):"onlyCountries"===key?options.onlyCountries=handleWhatsSupposedToBeAnArray(option):options[key]="boolean"==typeof value?"true"===option:option:void 0}),$timeout(function(){var e,t;return element.intlTelInput(options),options.nationalMode?(t=element.intlTelInput("getSelectedCountryData"))?(e=element.val().replace(new RegExp("\\+"+t.dialCode),0),element.intlTelInput("setNumber",e)):!0:void 0}),options.utilsScript||element.intlTelInput("loadUtils","bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),ctrl.$parsers.push(function(e){var t,n,o;return e?options.keepModelClean?element.intlTelInput("getCleanNumber"):options.formatModelWithSpace?(o=element.intlTelInput("getSelectedCountryData"),t=element.intlTelInput("getCleanNumber"),n=o.dialCode.length+1,t.substring(0,n)+" "+t.substring(n)):e.replace(/[^\d]/g,""):e}),ctrl.$parsers.push(function(e){return e?ctrl.$setValidity("international-phone-number",element.intlTelInput("isValidNumber")):(e="",ctrl.$setValidity("international-phone-number",!0)),e}),element.on("blur keyup change",function(){return scope.$apply(read)}),element.on("$destroy",function(){return element.off("blur keyup change")})}}})}).call(this);